{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Rainfall Database Search Results{% endblock %}
{% block page_content %}
<!DOCTYPE html>
<html lang="en">
<head>
  <title>....</title>
  <meta charset="utf-8">
<div class="page-header">
  <body>
    <h1> Rainfall Database Search Results </h1>
</div>
<script src ="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head>
<div class="container">

<h2>List of Rainfall Data </h2>

<div class="table-responsive">
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th>Year</th>
        <th>January</th>
        <th>February</th>
        <th>March</th>
        <th>April</th>
        <th>May</th>
        <th>June</th>
        <th>July</th>
        <th>August</th>
        <th>September</th>
        <th>October</th>
        <th>November</th>
        <th>December</th>
      </tr>
    </thead>
    <tbody>
       {% for item in presults %}
           <tr>
             <td>{{item.year}}</td>
             <td>{{item.january}}</td>
             <td>{{item.february}}</td>
             <td>{{item.march}}</td>
             <td>{{item.april}}</td>
             <td>{{item.may}}</td>
             <td>{{item.june}}</td>
             <td>{{item.july}}</td>
             <td>{{item.august}}</td>
             <td>{{item.september}}</td>
             <td>{{item.october}}</td>
             <td>{{item.november}}</td>
             <td>{{item.december}}</td>
           </tr>
        {% endfor %}
   </tbody>
  </table>
</div>
</div>
<canvas id="lineChart" width="900" height="400"></canvas>
<script>
  var ctx = document.getElementById("lineChart").getContext("2d");
  var lineChart = new Chart(ctx, {
    type: "line",
    data: {
      labels: {{ labels | safe}},
      datasets: [
        {
          label: "Data points",
          data: {{ values | safe }},
          fill: false,
          borderColor: "rgb(75, 192, 192)",
          lineTension: 0.1
        }
      ]
    },
    options: {
      responsive: false
    }
  });
</script>
</body>

{{ wtf.quick_form(form3) }}
{% endblock %}
</html>
